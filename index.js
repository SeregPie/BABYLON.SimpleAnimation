!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("babylonjs")):"function"==typeof define&&define.amd?define(["babylonjs"],n):n((t=t||self).BABYLON)}(this,(function(t){"use strict";var n="default"in t?t.default:t;t.Scene.prototype.beginSimpleAnimation=function(t){var n=t.run(this);return{waitAsync:function(){return n}}};var e=function(){Object.assign(this,{onAnimationEndObservable:new t.Observable,onAnimationStartObservable:new t.Observable})};e.prototype.run=function(){for(var t=this,n=[],e=arguments.length;e--;)n[e]=arguments[e];return Promise.resolve().then((function(){t.onAnimationStartObservable.notifyObservers()})).then((function(){var e;return(e=t)._run.apply(e,n)})).then((function(){t.onAnimationEndObservable.notifyObservers()}))};var o=function(t){function n(n){t.call(this),Object.assign(this,{duration:n})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype._run=function(){var t=this;return new Promise((function(n){var e=t.duration;setTimeout(n,e)}))},n}(e),r=function(t){function n(){t.call(this),Object.assign(this,{_children:[]})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.add=function(){for(var t,n=[],e=arguments.length;e--;)n[e]=arguments[e];return(t=this._children).push.apply(t,n),this},n}(e),i=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var e={duration:{configurable:!0}};return e.duration.get=function(){return this._children.reduce((function(t,n){var e=n.duration;return Math.max(t,e)}),0)},n.prototype._run=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Promise.all(this._children.map((function(n){return n.run.apply(n,t)}))).then((function(){}))},Object.defineProperties(n.prototype,e),n}(r);var a=function(n){function e(t){var e=t.target,o=t.property,r=t.type,i=t.from,a=t.to,u=t.duration,c=t.easing;n.call(this),Object.assign(this,{duration:u,easing:c,from:i,property:o,target:e,to:a,type:r})}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype._run=function(n){var e=this;return Promise.resolve().then((function(){var o,r=e,i=r.duration,a=r.easing,u=r.from,c=r.property,p=r.target,s=r.to,f=r.type;void 0===u&&(u=function(t,n){for(n=n.split(".");n.length;)t=t[n.shift()];return t}(p,c)),void 0===f&&(f=(o=u)instanceof t.Vector3?t.Animation.ANIMATIONTYPE_VECTOR3:o instanceof t.Quaternion?t.Animation.ANIMATIONTYPE_QUATERNION:o instanceof t.Matrix?t.Animation.ANIMATIONTYPE_MATRIX:o instanceof t.Color3?t.Animation.ANIMATIONTYPE_COLOR3:o instanceof t.Color4?t.Animation.ANIMATIONTYPE_COLOR4:o instanceof t.Vector2?t.Animation.ANIMATIONTYPE_VECTOR2:o instanceof t.Size?t.Animation.ANIMATIONTYPE_SIZE:t.Animation.ANIMATIONTYPE_FLOAT);var l=new t.Animation("",c,60,f,t.Animation.ANIMATIONLOOPMODE_CONSTANT),y=0+Math.round(i/1e3*60),A=[{frame:0,value:u},{frame:y,value:s}];return l.setKeys(A),void 0!==a&&l.setEasingFunction(a),n.beginDirectAnimation(p,[l],0,y).waitAsync()}))},e}(e),u=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var e={duration:{configurable:!0}};return e.duration.get=function(){return this._children.reduce((function(t,n){return t+n.duration}),0)},n.prototype._run=function(){for(var t=this,n=[],e=arguments.length;e--;)n[e]=arguments[e];return Promise.resolve().then((function(){var e=Promise.resolve();return t._children.forEach((function(t){e=e.then((function(){return t.run.apply(t,n)}))})),e})).then((function(){}))},Object.defineProperties(n.prototype,e),n}(r),c=Object.freeze({__proto__:null,SimpleAnimation:e,SimpleAnimationDelay:o,SimpleAnimationGroup:r,SimpleParallelAnimationGroup:i,SimplePropertyAnimation:a,SimpleSequentialAnimationGroup:u});Object.assign(n,c)}));
